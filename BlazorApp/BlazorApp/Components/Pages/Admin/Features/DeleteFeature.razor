@page "/adminpage/admin-features/delete-feature/{Id:int}"
@inject IFeatureService FeatureService
@attribute [Authorize]

@rendermode InteractiveServer

<h1 class="text-danger">Would you like to DELETE this Feature?</h1>

<div class="border border-primary rounded p-3 mb-2">
    <div class="form-group">
        <label>ID:</label>
        <input type="text" class="form-control" value="@_featureToDelete.Id" disabled />
    </div>
    <div class="form-group">
        <label>Name:</label>
        <input type="text" class="form-control" value="@_featureToDelete.Name" disabled />
    </div>
</div>

<button type="button" class="btn btn-danger" @onclick="Delete">Delete Feature</button>


@code {
    [Parameter]
    public int Id { get; set; }

    public Feature _featureToDelete = new Feature();

    protected override async Task OnInitializedAsync()
    {
        _featureToDelete = await FeatureService.GetFeatureById(Id);
    }

    async void Delete()
    {
        await FeatureService.DeleteFeature(_featureToDelete);
        navManager.NavigateTo("/adminpage/admin-features/");
    }
}
